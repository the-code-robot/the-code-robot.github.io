<!DOCTYPE html>
<html lang="en">
<head>
        <meta charset="utf-8" />
        <title>CodeRobot - unittest</title>
        <link rel="stylesheet" href="/theme/css/main.css" />

        <!--[if IE]>
            <script src="http://html5shiv.googlecode.com/svn/trunk/html5.js"></script>
        <![endif]-->
</head>

<body id="index" class="home">
        <header id="banner" class="body">
                <h1><a href="/">CodeRobot </a></h1>
                <nav><ul>
                    <li><a href="/pages/about.html">About</a></li>
                    <li><a href="/category/misc.html">misc</a></li>
                </ul></nav>
        </header><!-- /#banner -->

            <aside id="featured" class="body">
                <article>
                    <h1 class="entry-title"><a href="/using-python-unittest-outside-a-testing-environment.html">Using Python unittest outside a testing environment</a></h1>
<footer class="post-info">
        <abbr class="published" title="2015-12-21T22:28:00">
                Mon 21 December 2015
        </abbr>

        <address class="vcard author">
                By <a class="url fn" href="/author/robin-abbi-noreplybloggercom.html">Robin Abbi (noreply@blogger.com)</a>
        </address>
<p>In <a href="/category/misc.html">misc</a>. </p>
<p>tags: <a href="/tag/outside-the-box.html">outside the box</a><a href="/tag/python.html">python</a><a href="/tag/testing.html">testing</a><a href="/tag/unittest.html">unittest</a></p>
</footer><!-- /.post-info --><p>Test frameworks are not just for testing code during development and
deployment.
Test frameworks may also be put to good use within your application.
By way of example, consider the possibility of running diagnostics on
a live application. Another possibility is checking the validity of an
on-the-fly configuration change.
The Python unittest library, part of the standard distribution can
easily be incorporated into your live code.
The code example below presents a toy example of a test case, which is
then exercised by your application process. The outcome is a test result
object which you can query and report on.</p>
<pre class="code python literal-block">
<span class="kn">import</span> <span class="nn">unittest</span>
<span class="k">class</span> <span class="nc">TestMe</span><span class="p">(</span><span class="n">unittest</span><span class="o">.</span><span class="n">TestCase</span><span class="p">):</span>

    <span class="k">def</span> <span class="nf">test_this</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertTrue</span><span class="p">(</span><span class="bp">False</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">test_that</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertTrue</span><span class="p">(</span><span class="bp">True</span><span class="p">)</span><span class="n">loader</span> <span class="o">=</span> <span class="n">unittest</span><span class="o">.</span><span class="n">TestLoader</span><span class="p">()</span>

<span class="n">suite</span> <span class="o">=</span> <span class="n">loader</span><span class="o">.</span><span class="n">loadTestsFromTestCase</span><span class="p">(</span><span class="n">TestMe</span><span class="p">)</span>
<span class="n">result</span> <span class="o">=</span> <span class="n">unittest</span><span class="o">.</span><span class="n">TestResult</span><span class="p">()</span>
<span class="n">suite</span><span class="o">.</span><span class="n">run</span><span class="p">(</span><span class="n">result</span><span class="p">)</span> <span class="c"># run actually returns result as well as populating it</span>
<span class="k">print</span> <span class="n">result</span>
</pre>
<pre class="code python literal-block">
<span class="o">&lt;</span><span class="n">unittest</span> <span class="o">.</span><span class="n">result</span><span class="o">.</span><span class="n">testresult</span><span class="o">=</span><span class="s">&quot;&quot;</span> <span class="n">errors</span><span class="o">=</span><span class="s">&quot;0&quot;</span> <span class="n">failures</span><span class="o">=</span><span class="s">&quot;1&quot;</span> <span class="n">run</span><span class="o">=</span><span class="s">&quot;2&quot;</span><span class="o">&gt;</span>
</pre>
<p>The variable 'result' is an instance of unittest.TestResult() and has a rich set of attributes and methods as <a class="reference external" href="https://docs.python.org/2/library/unittest.html#unittest.TestResult">documented
here</a>.</p>
                </article>
            </aside><!-- /#featured -->
            </ol><!-- /#posts-list -->
            </section><!-- /#content -->
        <section id="extras" class="body">
                <div class="blogroll">
                        <h2>blogroll</h2>
                        <ul>
                            <li><a href="http://getpelican.com/">Pelican</a></li>
                            <li><a href="http://python.org/">Python.org</a></li>
                            <li><a href="http://jinja.pocoo.org/">Jinja2</a></li>
                            <li><a href="#">You can modify those links in your config file</a></li>
                        </ul>
                </div><!-- /.blogroll -->
                <div class="social">
                        <h2>social</h2>
                        <ul>

                            <li><a href="#">You can add links in your config file</a></li>
                            <li><a href="#">Another social link</a></li>
                        </ul>
                </div><!-- /.social -->
        </section><!-- /#extras -->

        <footer id="contentinfo" class="body">
                <address id="about" class="vcard body">
                Proudly powered by <a href="http://getpelican.com/">Pelican</a>, which takes great advantage of <a href="http://python.org">Python</a>.
                </address><!-- /#about -->

                <p>The theme is by <a href="http://coding.smashingmagazine.com/2009/08/04/designing-a-html-5-layout-from-scratch/">Smashing Magazine</a>, thanks!</p>
        </footer><!-- /#contentinfo -->

</body>
</html>