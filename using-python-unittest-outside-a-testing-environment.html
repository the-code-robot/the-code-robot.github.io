<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8"/>
  <meta name="viewport" content="width=device-width">
  <title>Using Python unittest outside a testing environment</title>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/bulma/0.3.1/css/bulma.min.css">
    <link rel="stylesheet" href="http://coderobot.downley.net/theme/css/main.b86f5cf5.css">
    <link rel="stylesheet" href="http://coderobot.downley.net/theme/webassets-external/4d92bbcfd30eb7aa35e64c3c5a2a4c20_print.css" media="print">
    <link rel="stylesheet" href="http://coderobot.downley.net/theme/webassets-external/62030ef326d568f512068446c46e4ed9_pygment.css">
  <!--[if IE]>
    <script src="http://html5shiv.googlecode.com/svn/trunk/html5.js"></script>
  <![endif]-->
<meta property="og:title" content="CodeRobot - Using Python unittest outside a testing environment">
  <meta property="og:description" content="Test frameworks are not just for testing code during development and deployment. Test frameworks may also be put to good use within your application. By way of example, consider the possibility of...">
<meta property="og:url" content="http://coderobot.downley.net/using-python-unittest-outside-a-testing-environment.html">
<meta name="twitter:card" content="summary">
</head>

<body id="index" class="home">
<header class="hero is-primary">
  <div class="hero-head">
    <div class="container">
      <nav class="nav">
        <div class="nav-left">
          <a class="nav-item is-brand title is-3"
             href="http://coderobot.downley.net/">CodeRobot</a>
        </div>
      </nav>
    </div>
  </div>
</header>

<nav class="nav has-shadow is-hidden-print">
  <div class="container">
    <div class="nav-center"></div>
    <span id="navToggle" class="nav-toggle">
      <span></span>
      <span></span>
      <span></span>
    </span>
    <div id="navMenu" class="nav-right nav-menu">
          <a class="nav-item is-tab "
             href="http://coderobot.downley.net/category/tooling.html">tooling</a>
          <a class="nav-item is-tab is-active"
             href="http://coderobot.downley.net/category/misc.html">misc</a>
          <a class="nav-item is-tab "
             href="http://coderobot.downley.net/category/microservices.html">microservices</a>
          <a class="nav-item is-tab "
             href="http://coderobot.downley.net/category/android.html">android</a>
    </div>
  </div>
</nav>

<div class="container">
  <div class="section columns">
    <div class="column is-three-quarters-desktop is-two-thirds-tablet">
<section id="content" class="body">
  <article>
    <h1 class="title">
      <a href="http://coderobot.downley.net/using-python-unittest-outside-a-testing-environment.html" rel="bookmark"
         title="Permalink to Using Python unittest outside a testing environment">Using Python unittest outside a testing environment</a></h1>
<footer class="post-info">
  <abbr class="published" title="2015-12-21T22:28:00+00:00">
    Published <span class="is-info">Mon 21 December 2015</span>
    in <a href="http://coderobot.downley.net/category/misc.html">misc</a>
  </abbr>

    <p class="author">
      <em>by           <a class="url fn" href="http://coderobot.downley.net/author/robin-abbi-noreplybloggercom.html">Robin Abbi (noreply@blogger.com)</a>
</em>
      <span class="tag is-small"><a href="http://coderobot.downley.net/tag/outside-the-box.html">outside the box</a></span>
      <span class="tag is-small"><a href="http://coderobot.downley.net/tag/python.html">python</a></span>
      <span class="tag is-small"><a href="http://coderobot.downley.net/tag/testing.html">testing</a></span>
      <span class="tag is-small"><a href="http://coderobot.downley.net/tag/unittest.html">unittest</a></span>
    </p>
  
</footer>    <div class="section"><p>Test frameworks are not just for testing code during development and
deployment.
Test frameworks may also be put to good use within your application.
By way of example, consider the possibility of running diagnostics on
a live application. Another possibility is checking the validity of an
on-the-fly configuration change.
The Python unittest library, part of the standard distribution can
easily be incorporated into your live code.
The code example below presents a toy example of a test case, which is
then exercised by your application process. The outcome is a test result
object which you can query and report on.</p>
<div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">unittest</span>
<span class="k">class</span> <span class="nc">TestMe</span><span class="p">(</span><span class="n">unittest</span><span class="o">.</span><span class="n">TestCase</span><span class="p">):</span>

    <span class="k">def</span> <span class="nf">test_this</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertTrue</span><span class="p">(</span><span class="bp">False</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">test_that</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertTrue</span><span class="p">(</span><span class="bp">True</span><span class="p">)</span>

<span class="n">loader</span> <span class="o">=</span> <span class="n">unittest</span><span class="o">.</span><span class="n">TestLoader</span><span class="p">()</span>
<span class="n">suite</span> <span class="o">=</span> <span class="n">loader</span><span class="o">.</span><span class="n">loadTestsFromTestCase</span><span class="p">(</span><span class="n">TestMe</span><span class="p">)</span>
<span class="n">result</span> <span class="o">=</span> <span class="n">unittest</span><span class="o">.</span><span class="n">TestResult</span><span class="p">()</span>
<span class="n">suite</span><span class="o">.</span><span class="n">run</span><span class="p">(</span><span class="n">result</span><span class="p">)</span> <span class="c1"># run actually returns result as well as populating it</span>
<span class="k">print</span> <span class="n">result</span>
</pre></div>
<pre class="code python literal-block">
<span class="o">&lt;</span><span class="n">unittest</span> <span class="o">.</span><span class="n">result</span><span class="o">.</span><span class="n">testresult</span><span class="o">=</span><span class="s2">&quot;&quot;</span> <span class="n">errors</span><span class="o">=</span><span class="s2">&quot;0&quot;</span> <span class="n">failures</span><span class="o">=</span><span class="s2">&quot;1&quot;</span> <span class="n">run</span><span class="o">=</span><span class="s2">&quot;2&quot;</span><span class="o">&gt;</span>
</pre>
<p>The variable 'result' is an instance of unittest.TestResult() and has a rich set of attributes and methods as <a class="reference external" href="https://docs.python.org/2/library/unittest.html#unittest.TestResult">documented
here</a>.</p>
</div>

  </article>
</section>
    </div>

    <div class="column is-one-quarter-desktop is-one-third-tablet is-hidden-print">
      <aside class="menu">
          <p class="menu-label">other pages</p>
          <ul class="menu-list">
                <li><a                        href="http://coderobot.downley.net/pages/about.html">
                  <span class="icon is-small"><i class="fa fa-book"></i></span>
                  <span class="link-text">About</span>
                </a></li>
          </ul>
          <p class="menu-label">other sites</p>
          <ul class="menu-list">
              <li><a href="https://www.w3.org/standards/semanticweb/">
                <span class="icon is-small"><i class="fa fa-globe fa-fw"></i></span>
                <span class="link-text">Semantic Web</span>
              </a></li>
              <li><a href="http://hintjens.com/">
                <span class="icon is-small"><i class="fa fa-globe fa-fw"></i></span>
                <span class="link-text">Pieter Hintjens</span>
              </a></li>
              <li><a href="http://python.org/">
                <span class="icon is-small"><i class="fa fa-globe fa-fw"></i></span>
                <span class="link-text">Python.org</span>
              </a></li>
              <li><a href="http://jinja.pocoo.org/">
                <span class="icon is-small"><i class="fa fa-globe fa-fw"></i></span>
                <span class="link-text">Jinja2</span>
              </a></li>
          </ul>
<p class="menu-label">social</p>
<ul class="menu-list">
    <li><a href="https://twitter.com/_coderobot">
      <span class="icon is-small">
          <i class="fa fa-twitter fa-fw"></i>
      </span>
      <span class="link-text">twitter</span>
    </a></li>
    <li><a href="https://www.linkedin.com/in/robinabbi/">
      <span class="icon is-small">
          <i class="fa fa-linkedin fa-fw"></i>
      </span>
      <span class="link-text">linkedin</span>
    </a></li>
    <li><a href="http://stackoverflow.com/users/4999639/coderobot">
      <span class="icon is-small">
          <i class="fa fa-globe fa-fw"></i>
      </span>
      <span class="link-text">stackoverflow</span>
    </a></li>
</ul>      </aside>
    </div>
  </div>
</div>

<footer class="footer">
  <div class="container has-text-centered">
    <p>Theme by <a href="http://hello.jonrshar.pe">Jonathan Sharpe</a>
      | <span class="icon is-small"><i class="fa fa-html5"></i></span> HTML 5
      | <span class="icon is-small"><i class="fa fa-css3"></i></span> CSS 3
    </p>
  </div>
</footer>

    <script type="text/javascript">
    var _gaq = _gaq || [];
    _gaq.push(['_setAccount', 'UA-92650351-1']);
    _gaq.push(['_trackPageview']);
    (function() {
        var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
        ga.src = 'https://ssl.google-analytics.com/ga.js';
        var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
    })();
    </script>
<script type="text/javascript">
  document.getElementById('navToggle').addEventListener('click', function () {
    var nav = document.getElementById('navMenu');
    var className = nav.getAttribute('class');
    if (className == 'nav-right nav-menu') {
      nav.className = 'nav-right nav-menu is-active';
    } else {
      nav.className = 'nav-right nav-menu';
    }
  });
</script>
</body>
</html>